<div class="authors-container">
  <div class="search-fields">
    <mat-form-field>
      <input
        matInput
        placeholder="Search by author name"
        [(ngModel)]="searchConfig.authorName"
      />
    </mat-form-field>
    <mat-form-field>
      <input
        matInput
        placeholder="Search by book title"
        [(ngModel)]="searchConfig.bookTitle"
      />
    </mat-form-field>
  </div>

  <div class="search-fields">
    <mat-form-field>
      <mat-label>Select Age Category</mat-label>
      <mat-select [(ngModel)]="searchConfig.ageCategory">
        <mat-option [value]=""></mat-option>
        <mat-option
          *ngFor="let ageCategory of ageCategories"
          [value]="ageCategory"
        >
          {{ ageCategory }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Select Genre</mat-label>
      <mat-select [(ngModel)]="searchConfig.genre">
        <mat-option [value]=""></mat-option>
        <mat-option *ngFor="let genre of genres" [value]="genre">
          {{ genre }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="search-fields">
    <mat-slide-toggle [(ngModel)]="showCovers">Show covers</mat-slide-toggle>
  </div>

  <div class="author-cards-container">
    <mat-card
      class="author-card"
      *ngFor="let author of authors$ | async | filter : searchConfig"
      (click)="openAuthorDetailDialog(author)"
    >
      <mat-card-header>
        <mat-card-title>{{ author.name }}</mat-card-title>
        <mat-card-subtitle>{{ author.title | uppercase }}</mat-card-subtitle>
      </mat-card-header>
      <img
        mat-card-image
        [src]="
          showCovers
            ? author.bookCoverUrl ?? placeholderBookCoverUrl
            : author.authorPhotoUrl ?? placeholderAuthorPhotoUrl
        "
        [alt]="showCovers ? author.bookCoverAltText : author.authorPhotoAltText"
        loading="lazy"
      />
    </mat-card>

    <div class="author-card-empty"></div>
    <div class="author-card-empty"></div>
    <div class="author-card-empty"></div>
  </div>
</div>
